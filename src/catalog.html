<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Каталог - Галерея Искусств</title>
    <meta name="description" content="Каталог картин" />
    <meta name="keywords" content="Каталог, картины, искусство" />
    <link rel="stylesheet" href="static/css/styles.css" />
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        console.log("HTMX loaded");
        htmx.logAll();

        // Добавляем обработчики для отладки
        htmx.on("htmx:beforeRequest", function (evt) {
          console.log("HTMX request headers:", evt.detail.headers);
          console.log("HTMX request path:", evt.detail.path);
          console.log("HTMX request method:", evt.detail.method);
        });

        htmx.on("htmx:afterRequest", function (evt) {
          console.log("HTMX response status:", evt.detail.xhr.status);
          console.log(
            "HTMX response headers:",
            evt.detail.xhr.getAllResponseHeaders()
          );
          console.log("HTMX response text:", evt.detail.xhr.responseText);
        });

        htmx.on("htmx:responseError", function (evt) {
          console.error("HTMX error:", evt.detail.error);
        });
      });
    </script>
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="container">
        <a href="index.html" class="logo">
          <img src="static/svg/main_logo.svg" alt="ARTLUMEN logo" />
        </a>
        <nav class="nav">
          <a href="catalog.html" class="nav-link">Каталог</a>
          <a href="#" class="nav-link">Мероприятия</a>
          <a href="index.html" class="nav-link">Корзина</a>
          <a href="index.html" class="nav-link">Войти</a>
        </nav>
      </div>
    </header>

    <!-- Catalog Header -->
    <section class="catalog-header">
      <div class="container">
        <h1>Каталог картин</h1>
      </div>
    </section>

    <!-- Filters -->
    <section class="filters">
      <div class="container">
        <form
          class="filter-form"
          hx-get="/api/painting"
          hx-target="#gallery-grid"
          hx-trigger="change"
          hx-headers='{"Accept": "text/html", "HX-Request": "true"}'
        >
          <div class="filter-group">
            <label for="style">Стиль</label>
            <select id="style" name="style">
              <option value="">Все стили</option>
              <option value="Портрет">Портрет</option>
              <option value="Абстракция">Абстракция</option>
              <option value="Пейзаж">Пейзаж</option>
              <option value="Натюрморт">Натюрморт</option>
              <option value="Смешанная техника">Смешанная техника</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="price">Цена</label>
            <select id="price" name="price">
              <option value="">Любая цена</option>
              <option value="0-5000">До 5000 ₽</option>
              <option value="5000-10000">5000 - 10000 ₽</option>
              <option value="10000+">Более 10000 ₽</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="size">Размер</label>
            <select id="size" name="size">
              <option value="">Любой размер</option>
              <option value="small">Маленький</option>
              <option value="medium">Средний</option>
              <option value="large">Большой</option>
            </select>
          </div>
        </form>
      </div>
    </section>

    <!-- Gallery -->
    <section class="gallery">
      <div class="container">
        <div
          id="gallery-grid"
          class="gallery-grid"
          hx-get="/api/painting"
          hx-trigger="load"
          hx-swap="innerHTML"
          hx-headers='{"Accept": "text/html", "HX-Request": "true"}'
        >
          <!-- Gallery items will be loaded here -->
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div>
          <h3>Контактная информация</h3>
          <a href="#" class="footer-link">МОСКВА, литейный проспект 4</a>
        </div>
        <div>
          <a href="#" class="footer-link">e-mail</a>
        </div>
        <div>
          <a href="#" class="footer-link">instagram</a>
          <a href="#" class="footer-link">telegram</a>
        </div>
      </div>
    </footer>
  </body>
</html>
